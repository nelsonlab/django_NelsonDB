{% extends 'lab/base.html' %}
{% load static %}
{% load lab_extras %}

{% block title %}Query Builder Results{% endblock %}
{% block body_block %}
<div class="hero-unit">
  <h1>Query Builder Results</h1>
</div>

<div class="container-fluid">
  <div class="container-fluid">
    <!--
    {% if qb_options %}
    <p>Options</p>
    {% for x in qb_options %}
    <p>{{x}}</p>
    {% endfor %}
    <hr>
    {% endif %}

    {% if display_fields %}
    <p>Fields</p>
    {% for x in display_fields %}
    <p>{{x}}</p>
    {% endfor %}
    <hr>
    {% endif %}
  -->
  {% if display_results %}
  <table id="qb_measurement_results_table" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
      <tr>
        {% for f in display_fields %}
        <th>{{f}}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for row in display_results %}
      <tr>
        {% for f in display_fields %}
        <td>{{row|qb_get_fields:f}}</td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}

  </div>
</div>
{% endblock %}
