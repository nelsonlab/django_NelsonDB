{% extends 'lab/base.html' %}
{% load static %}
{% block title %}Measurement Data{% endblock %}
{% block body_block %}
<div class="hero-unit">
  <h1>Measurement Data</h1>
</div>
  <br />

    <div style="-webkit-box-shadow:2px 2px 3px 3px #888888; padding:15px">
      <div class="row-fluid">
        <div class="span3">
          <ul class="nav nav-list">
            <li class="nav-header">Select Experiments</li>
            <form>
              <label></label>
              <li><input  class="search-query" type="text" name="measurement_experimentsuggestion" id="measurement_experimentsuggestion" placeholder="Type Experiment (e.g. 08PN)"/></li>
            </form>
          </ul>
        </div>
        <div class="span3 offset1">
          <button class="btn btn-info" id="show_all_measurement_experiment" name="show_all_measurement_experiment" type="submit">Show All Experiments</button>
        </div>
        {% if checkbox_measurement_experiment %}
        <div class="span2 offset3">
          <button class="btn btn-warning" id="clear_measurement_experiment" name="clear_measurement_experiment" type="submit">Clear Experiments</button>
        </div>
        {% endif %}
      </div>
      <div id="measurement_experiment">
        {% include 'lab/measurement_experiment_list.html' with measurement_experiment_list=measurement_experiment_list %}
      </div>
      {% if checkbox_measurement_experiment %}
        <hr>
        <h5>Selected Experiments</h5>
        {% for exp in checkbox_measurement_experiment %}
          <li>{{ exp.name }}</li>
        {% endfor %}
      {% endif %}
    </div><br/>

    <div style="-webkit-box-shadow:2px 2px 3px 3px #888888; padding:15px">

    {% if measurement_data %}
      <h2>Measurement Data</h2><br/>
      <form id="select_stocks_form" method="post" action="/lab/download/measurements/">
        {% csrf_token %}
        <table id="selected_stocks" class="table table-striped table-bordered" cellspacing="0" width="100%">
          <thead>
          <tr>
            <th>Exp</th>
            <th>Obs ID</th>
            <th>User</th>
            <th>Time</th>
            <th>Parameter Type</th>
            <th>Parameter</th>
            <th>Value</th>
            <th>Units</th>
            <th>TraitID Buckler</th>
            <th>Comments</th>
          </tr>
          </thead>
          <tbody>
          {% for data in measurement_data %}
          <tr>
            <td><a href='/lab/experiment/{{data.obs_tracker.experiment.name}}/'>{{data.obs_tracker.experiment.name}}</a></td>
            <td><a href='{{data.obs_tracker.obs_id_url}}'>{{data.obs_tracker.obs_id}}</a></td>
            <td><a href='/lab/profile/{{data.user}}/'>{{data.user}}</a></td>
            <td>{{data.time_of_measurement}}</td>
            <td>{{data.measurement_parameter.parameter_type}}</td>
            <td><a href='/lab/measurement_parameter/{{data.measurement_parameter.id}}/'>{{data.measurement_parameter.parameter}}</a></td>
            <td>{{data.value}}</td>
            <td>{{data.measurement_parameter.unit_of_measure}}</td>
            <td>{{data.measurement_parameter.trait_id_buckler}}</td>
            <td>{{data.comments}}</td>
          </tr>
          {% endfor %}
          </tbody>
        </table>
        <br/>
        <input class="btn btn-primary" type="submit" name="submit" value="Export Data"/>
      </form>
      {% endif %}
    </div><br/><br/>



{% endblock %}
